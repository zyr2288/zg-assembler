# Change Log

### 2025-03-02 v0.3.44
* 修复查询变量未知可能造成的错误

<details>
<summary>之前版本更新记录</summary>

### 2025-03-02 v0.3.43
* 修复编辑结果越界报错行指向错误问题
* 修复鼠标移动到临时变量和数字上不显示值的问题
* 修复当命令为小写的时候高亮不显示的问题
* 修复数据未知时候长度错误的Bug

### 2025-01-13 v0.3.42
* 修复编译错误之后可能还会生成文件的Bug
* 修复路径合并的Bug

### 2024-12-27 v0.3.41
* 优化汇编指令的智能提示
* 修复标签的错误提示只有一个的问题
* 修复编译之后再编辑错误信息位置不正确的Bug
* 修复**SPC700**的`MOV`指令编译错误问题

### 2024-12-12 v0.3.37
* 添加 `Step Out` `Step Over` 两个请求
* 修复编译过后无法移动到标签上查看编译结果
* 修复字符串内无法使用Unicode功能，详情请查看说明文档
* 修复 `.DBG .DWG .DLG` 命令无法解析的Bug
* 修复关于 **DataGroup** 无智能提示的Bug
* 修复一行多个错误的时候，只显示一个错误的Bug
* 修复编译过后，重命名和查找引用出现错误的Bug
* 废弃重新载入Rom功能，将该功能修改成热重载

### 2024-11-20 v0.3.32
* 添加以及修复 Debug 部分功能
* ~~Debug添加重新载入Rom功能~~
* 给Debug添加连接后初始化信息
* 修复 `65c816` 的`BRA`和`BRL`指令。
* 修复 `SPC700` 的`DEC A`指令以及相关固定寻址标识错误的Bug。
* 修复Debug配置文件的launch.json相关提示
* 修复智能提示部分Bug
* 修复重命名、查找所有引用出错的Bug

### 2024-10-10 v0.3.23
* 添加编译指令编译后点击直接显示结果
* 修复Debug查找行号错误的Bug
* 修复不能更换编译平台的Bug

### 2024-09-06 v0.3.21
* 修复自定义函数内参数第一次编译未知可能出现的Bug
* 修复自定义函数后续表达式高亮问题
* 修复自定义函数中的标签定义域问题

### 2024-08-12 v0.3.19
* 优化内核的表达式解析与计算
* 编译结果分包，支持 `node` 独立编译
* 修复命令前有标签则编译错误的Bug
* 修复标签重命名可能出错的Bug
* 修复智能提示输入 "." 没有提示的Bug

### 2024-07-29 v0.3.11
* 遗漏了 `.IFDEF` `.IFNDEF` 命令，现补上
* 修复 `.INCBIN` `.INCLUDE` 错误
* 修复即使有错误继续编译导致的编译卡死问题
* 内核重写部分代码，使分析器和编译器分离
* 修复编译有误重复编译卡死Bug或无输出
* 取消Tab长度为8的设定

### 2024-07-22 v0.3.6
* 重写内核
* 修复关于命令的智能提示
* 修复汇编指令的智能提示
* 修复逗号分隔可能出现的错误
* 修复自定义函数查找引用错误
* 修复重命名标签如果标签名称重复依然可以重命名的错误

### 2024-05-07 v0.2.67
* 修复若 `.IF` 命令内包含 `.INCLUDE` 命令编译出错的Bug
* 修复 `.INCLUDE` `.INCBIN` 命令无法导航到文件的Bug
* 修复 `<=` 运算符报错

### 2024-03-11 v0.2.64
* 修复出现警告信息后重新编译不消失问题
* 优化将所有编译行前的标签作为新一行编译（优化编译逻辑）

### 2024-03-06 v0.2.63
* 修复定义的变量不在同一个文件内可能报错
* 修复自定义函数内标签解析错误
* 修复将读取文件路径统一为小写，避免 vscode 的 Uri 读取路径问题
* 允许 `.MACRO` 内变量使用变量，这里所有定义的变量将为全局变量，例如
```
    .MACRO Test
saveAddress = *
    .ENDM
```

### 2023-12-27 v0.2.59
* 新增编译后点击行查看编辑结果的功能
* 重构关于标签的存储方式，避免标签极低概率的重复存储
* 优化智能提示的图标显示
* 添加 `65c816` 部分缺漏的指令
* 修复 `JSR` `JSL` 指令的错误
* 修复编辑完成后立即编译报错的Bug
* 修复标签可能不高亮的问题

### 2023-12-20 v0.2.51
* 新增 `!` `~` 两种运算符
* 新增可以对变量进行多行注释，在显示提示的时候能够显示多行，例如：
```
    ; 这里是注释1
    ; 这里是注释2
    ; 这里是注释3
    .DEF label, expression    ;在这里，label会显示其上面以及本注释
```
* 优化智能提示，汇编指令寻址模式，自定义函数的插入文本
* 优化鼠标暂停变量上的提示显示方式
* 修复重命名 `.ENUM` 命令内的变量失效的问题

### 2023-12-14 v0.2.48
* 修复 `.MACRO` 命令参数使用字符串时无法编译内联的 `.DB` 等命令
* 修复 `.HEX` 命令参数不应出现智能提示的Bug
* 修复自定义函数的参数校验问题
* 修复自定义函数的参数不能使用字符串，这里增强了 `.DB` `.DW` `.DL` 的用法
* 修复查找自定义函数的引用时查找出所有函数
* 修复自定义函数重命名错误

### 2023-12-06 v0.2.44
* 解除 `.BASE` `.ORG` 不能在 `.Macro` 内使用的限制
* 修复重命名不重命名关于数据组的Bug
* 修复定义标签不能为临时标签
* 新增命令 `.ENUM` `.ENDE`，具体信息请参考文档说明
* 新增鼠标停留在编译器命令的时候显示命令使用提示
* ~~移除 `config` 配置下的 `patchFile`~~，这个可以使用 `.INCBIN` 灵活代替，例如：
```
    ; In entry file
    .ORG $0
    .BASE $0
    .INCBIN "file.bin"

    ; Your code
```

### 2023-11-27 v0.2.38
* 修复查找定义不能寻找临时变量的问题
* 修复自定义函数标签编译错误
* 修复自定义函数解析错误
* 修复自定义函数后智能提示不出现的问题
* 优化智能提示不出现自定义函数的问题
* 新增查找引用功能
* 新增修改变量名称功能

### 2023-11-18 v0.2.35
* 优化在输入寻址方式时会弹出不必要的智能提示
* 优化当输入只有隐含寻址的汇编指令时，加入回车

### 2023-11-15 v0.2.33
* 修复选项 `patchFile` 失效的问题
* 添加若标签末尾为 `:`，则自动忽略
* 将中文的 `README` 作为默认

### 2023-06-05 v0.2.28
* 修复当寻址表达式为空时不报错的Bug
* 修复运算符 `&` `|` 的错误

### 2023-05-22 v0.2.26
* 添加 `$` 为独立的时候作为获取当前 `.BASE` 命令地址，例如：`.temp = $` 即获取当前文件 `.BASE` 地址
* 修复编译时粘贴到剪贴板的范围不正确Bug
* 修复一些运算符的Bug
* 修复 `.IF` `.IFDEF` `.IFNDEF` 命令有多个时会编译失败的Bug

### 2023-05-17 v0.2.23
* 修复计算结果为负数的时候卡死
* 修复入口文件不存在则编译卡死的Bug
* 修复数据组智能提示出现的错误
* 修复子标签的父标签为已定义后出现重复定义标签的错误

### 2023-05-09 v0.2.16
* 修复智能提示中提示项目不显示注释的Bug
* 修复未有标签的文件智能提示不显示的Bug
* 修复当表达式中包含 `*` 时编译器卡死的问题
* 丰富智能提示的注释内容

### 2023-04-21 v0.2.12
* 修复 `.IFDEF` `.IFNDEF` 指令分析错误
* 修复汇编指令小写时智能提示不显示的Bug
* 删除文件图标

### 2023-04-09 v0.2.10
* 更新指令，添加例如 `65c816` 内 `LDA.1 #1234` 锁定寻址长度为1的功能
* 修复无法查找到标签定义等所在位置的Bug

### 2023-03-19 v0.2.9
* 将 `project-settings.json` 配置文件移除出 `.vscode` 文件夹内，解耦与 VSCode 的关联
* 修复查找定义的标签选中问题
* 修复临时标签无法编译的问题
* 修复 `.HEX` 命令内使用 `Tab` 报错的Bug
* 修复无起始地址时无法编译的Bug
* 统一内核的文件路径逻辑
* 优化内核

### 2023-03-15 v0.2.4
* 修复 `.DB` `.DW` `.DL` 后无法智能提示标签的问题
* 修复 `.DB` `.DW` `.DL` 命令编译报错问题

### 2023-03-13 v0.2.2
* **破坏性更新，所有编译器命令格式都修改为 `Command arg1, arg2...` 具体请参考 README**
* 重新编写内核
* 添加 **z80-gb** 汇编
* 取消配置 `argumentOutOfRangeError`，添加 `outOfRangeWarning`
* 更新平台名称

### 2023-03-05 v0.1.20
* 修复命令 `.IF` 指令表达式无法计算的Bug

### 2022-11-01 v0.1.19
* 修复查找不到 `.DEF` 标签的Bug

### 2022-10-04 v0.1.18
* 修复项目内错误文件关闭依然显示错误的Bug

### 2022-09-09 v0.1.17
* 修复 **65c816** 下的绝对变址间接寻址的寻址问题
* 修复编译可能造成的标签地址错误
* 修复编译寻址可能造成的错误
* ~~添加越界错误提示选项 `argumentOutOfRangeError`~~

### 2022-09-04 v0.1.11
* 修复 **65c816** 下的寻址错误
* 修复命令的正则表达式分析错误
* 添加 **65c816** 的`JML`指令

### 2022-08-17 v0.1.10
* 修复包括 `.END` 的命令区间判断错误的Bug

### 2022-07-12 v0.1.9
* 更正 `.DB` `.Dw` `.DL` 算法，不再报越界错误

### 2022-06-14 v0.1.7
* 修复原 **65c816** 平台无法使用的Bug
* 修复标签重复不报错的Bug
* 修复编译时标签编译错误的Bug
* 更新 **6502** **65c816** 相关标签的确定寻址长度写法

### 2022-06-11 v0.1.4
* 调整为先解析编译器命令后解析汇编指令
* 修复高亮错误
* 修复文件筛选器的错误
* 添加文件监视

### 2022-06-09 v0.1.2
* 大更新，重写架构，标签、定义、变量颜色进行区分（可能还有错误）
* 修复注释出现智能提示的Bug
* 修复括号不显示错误的Bug

### 2022-05-20 v0.0.13
* 修复配置文件包含以及排除文件的读取错误

### 2022-05-13 v0.0.12
* 添加路径的智能提示
* 修复汇编文件内引用本文件所造成的循环引用错误

### 2022-05-12 v0.0.11
* 修复智能提示显示错误的Bug
* 默认Tab长度为8

### 2022-05-02 v0.0.10
* 修复表达式赋值可能有误

### 2022-04-28 v0.0.8
* 修复临时无名标签编辑时不清除的Bug
* 修复本地标签调用会显示全局标签的Bug

### 2022-04-27 v0.0.7
* 修复6502条件跳转错误

### 2022-04-15 v0.0.6
* 全新版本
* 增加 **65c816** 汇编
* 修复注释汇编指令的高亮错误
* 修复条件跳转的编译错误
</details>